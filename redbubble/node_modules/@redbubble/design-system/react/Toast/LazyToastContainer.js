import React from 'react';
import { ToastContainer as ToastifyContainer, cssTransition } from 'react-toastify';
import 'react-toastify/dist/ReactToastify.min.css';
import cnames from 'classnames';
import * as constants from '../constants';
import styles from './LazyToastContainer.scss';

const Transition = cssTransition({
  enter: styles.transitionIn,
  exit: styles.transitionOut,
  duration: [400, 200],
});

const ToastContainer = ({ profile, ...props }) => (
  <ToastifyContainer
    transition={Transition}
    hideProgressBar
    className={cnames(styles.toastContainer, styles[profile])}
    toastClassName={styles.toastWrapper}
    bodyClassName={styles.body}
    newestOnTop
    draggable={false}
    closeButton={false}
    position={profile === constants.DESKTOP ? 'bottom-right' : 'bottom-center'}
    pauseOnFocusLoss
    closeOnClick={false}
    {...props}
  />
);

ToastContainer.displayName = 'ToastContainer';

ToastContainer.defaultProps = {
  profile: constants.MOBILE,
};

export default ToastContainer;
